---
globs: *.cs
description: Unity project naming conventions and class structure guidelines
---

# Unity ë„¤ì´ë° ì»¨ë²¤ì…˜

Unity í”„ë¡œì íŠ¸ì˜ ì¼ê´€ëœ ë„¤ì´ë°ê³¼ êµ¬ì¡°ë¥¼ ìœ„í•œ ê·œì¹™ì…ë‹ˆë‹¤.

## ğŸ—ï¸ í´ë˜ìŠ¤ ë„¤ì´ë°

### ì‹±ê¸€í†¤ í´ë˜ìŠ¤

- **Manager** ì ‘ë¯¸ì‚¬ ì‚¬ìš©
- ì˜ˆì‹œ: `GameManager`, `DeckManager`, `CardItemFactoryManager`

```csharp
public class GameManager : NetworkBehaviour
{
    private static GameManager _instance;
    public static GameManager Instance { get; }

    private void Awake()
    {
        if (_instance == null)
        {
            _instance = this;
            DontDestroyOnLoad(gameObject);
        }
        else if (_instance != this)
        {
            Destroy(gameObject);
        }
    }
}
```

### ì”¬ íŠ¹í™” í´ë˜ìŠ¤

- **Controller** ì ‘ë¯¸ì‚¬ ì‚¬ìš© (í•œ ì”¬ ë‚´ì—ì„œë§Œ êµ­í•œ)
- ì˜ˆì‹œ: `ActiveController`, `VentController`

```csharp
public class ActiveController : MonoBehaviour
{
    // íŠ¹ì • ì”¬ì—ì„œë§Œ ì‚¬ìš©ë˜ëŠ” ë¡œì§
}
```

## ğŸ¯ ë³€ìˆ˜ ë° í”„ë¡œí¼í‹° ë„¤ì´ë°

### ì¼ë°˜ ë³€ìˆ˜

- ë¡œì»¬ ë³€ìˆ˜ ë° í•¨ìˆ˜ íŒŒë¼ë¯¸í„°: **camelCase**
- ì˜ˆì‹œ: `myCar`, `playerData`, `cardItemId`

### í”„ë¡œí¼í‹°ì™€ Backing Field

- í”„ë¡œí¼í‹°: **PascalCase**
- Backing field: **\_camelCase** (ì–¸ë”ìŠ¤ì½”ì–´ ì ‘ë‘ì‚¬)

```csharp
public class PlayerModel
{
    private string _nickname;  // backing field

    public string Nickname     // property
    {
        get => _nickname;
        set => _nickname = value;
    }
}
```

### ë‹¨ë… í•„ë“œ

- Private/Protected ë³€ìˆ˜ì—ëŠ” `_`ë¥¼ ë¶™ì´ì§€ ì•ŠìŒ
- ì˜ˆì‹œ: `playerModel`, `cardData`

```csharp
public class PlayerPresenter : NetworkBehaviour
{
    private PlayerModel playerModel;  // ë‹¨ë… í•„ë“œ (ì–¸ë”ìŠ¤ì½”ì–´ ì—†ìŒ)
    private PlayerView playerView;
}
```

## ğŸ“ ì—ì…‹ ë„¤ì´ë°

### íƒœê·¸ ë° ë ˆì´ì–´

- **PascalCase** ì‚¬ìš©
- ì˜ˆì‹œ: `Player`, `CardInventory`, `Interactable`

### í•˜ì´ì–´ë¼í‚¤ ì˜¤ë¸Œì íŠ¸

- **PascalCase** ì‚¬ìš©
- êµ¬ë¶„ìë¡œ ì–¸ë”ìŠ¤ì½”ì–´ ì‚¬ìš©
- ì˜ˆì‹œ: `UI_SpeechBubble`, `Mat_Red`, `Player_Idle`

### í´ë” ë‚´ íŒŒì¼ëª…

- **PascalCase** + í´ë”ëª… ì ‘ë‘ì‚¬
- ì˜ˆì‹œ:
  - `Sprites/Player/` â†’ `Sprite_Player.png`
  - `Anim/Player/` â†’ `Anim_PlayerIdle.anim`

## ğŸ¨ MVP íŒ¨í„´ ë„¤ì´ë°

### Model í´ë˜ìŠ¤

```csharp
public class CardDataModel
{
    // ë°ì´í„° ê´€ë¦¬ ë¡œì§
}
```

### View í´ë˜ìŠ¤

```csharp
public class PlayerView : MonoBehaviour
{
    // UI ë° ì…ë ¥ ì²˜ë¦¬
}
```

### Presenter í´ë˜ìŠ¤

```csharp
public class PlayerPresenter : NetworkBehaviour
{
    // Modelê³¼ View ê°„ ì¤‘ì¬
    private PlayerModel playerModel;
    private PlayerView playerView;
}
```

## ğŸ”§ Unity íŠ¹í™” ë„¤ì´ë°

### NetworkBehaviour RPC

- ServerRpc ì ‘ë¯¸ì‚¬ ì‚¬ìš©
- ClientRpc ì ‘ë¯¸ì‚¬ ì‚¬ìš©

```csharp
[ServerRpc]
public void MovePlayerServerRpc(float x, float y)
{
    // ì„œë²„ RPC ë¡œì§
}

[ClientRpc]
public void UpdatePlayerPositionClientRpc(Vector3 position)
{
    // í´ë¼ì´ì–¸íŠ¸ RPC ë¡œì§
}
```

### ì´ë²¤íŠ¸ ë„¤ì´ë°

- On ì ‘ë‘ì‚¬ ì‚¬ìš©
- EventArgs ì ‘ë¯¸ì‚¬ ì‚¬ìš© (ì´ë²¤íŠ¸ ì¸ì í´ë˜ìŠ¤)

```csharp
public event Action<int> OnCardItemIdAssigned;
public class OnMovementInputEventArgs : EventArgs
{
    public float XDirection;
    public float YDirection;
}
```

ì´ ë„¤ì´ë° ì»¨ë²¤ì…˜ì„ ë”°ë¼ ì½”ë“œì˜ ê°€ë…ì„±ê³¼ ì¼ê´€ì„±ì„ ìœ ì§€í•˜ì„¸ìš”.
